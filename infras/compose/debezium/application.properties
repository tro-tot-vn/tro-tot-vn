debezium.sink.type=redis
debezium.sink.redis.address=redis-trototvn:6379
debezium.sink.redis.message.format=extended

debezium.source.connector.class=io.debezium.connector.sqlserver.SqlServerConnector

# Use Redis for offset storage (no permission issues)
debezium.source.offset.storage=io.debezium.storage.redis.offset.RedisOffsetBackingStore
debezium.source.offset.storage.redis.address=redis-trototvn:6379
debezium.source.offset.storage.redis.key=offset:dbz.trotot
debezium.source.offset.flush.interval.ms=60000

# SQL Server connection
debezium.source.database.hostname=db-trototvn
debezium.source.database.port=1433
debezium.source.database.user=sa
debezium.source.database.password=${SA_PASSWORD}
debezium.source.database.names=TroTotVN
debezium.source.database.encrypt=false

# Topic/Stream naming  
debezium.source.topic.prefix=dbserver
debezium.source.table.include.list=dbo.Post

# Snapshot mode (schema_only = no initial data load)
# recovery = rebuild schema history if missing
debezium.source.snapshot.mode=initial

# Schema History (required for SQL Server connector) - use Redis instead of Kafka
debezium.source.schema.history.internal=io.debezium.storage.redis.history.RedisSchemaHistory
debezium.source.schema.history.internal.redis.address=redis-trototvn:6379
debezium.source.schema.history.internal.redis.key=schema-history:dbz.trotot
debezium.source.schema.history.internal.store.only.captured.tables.ddl=true
debezium.source.schema.history.internal.skip.unparseable.ddl=true

# Logging
quarkus.log.console.level=INFO
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{3.}] %s%e%n

